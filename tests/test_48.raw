ВКЛЮЧИТЬ стандартная_библиотека.*

ОПРЕДЕЛИТЬ ПРОЦЕДУРУ сон(номер) (
    НАПЕЧАТАТЬ форматировать_строку("Старт таски {}", номер);
    ЖДАТЬ В ФОНЕ асинхронный_сон(1);
    НАПЕЧАТАТЬ форматировать_строку("Конец таски {}", номер);
)



ОПРЕДЕЛИТЬ ПРОЦЕДУРУ запуск_программы() (
    ЗАДАТЬ задачи = Список();

    ЦИКЛ номер ОТ 1 ДО 10000 (
        задачи:добавить(В ФОНЕ сон(номер));
    )

    ждать_всех(задачи:в_массив());
)

ВЫПОЛНИТЬ (
    запуск_программы();
)
