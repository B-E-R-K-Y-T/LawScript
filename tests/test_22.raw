ВКЛЮЧИТЬ стандартная_библиотека.*

ОПРЕДЕЛИТЬ ПРОЦЕДУРУ ошибка(номер)(
    ЦИКЛ ОТ 1 ДО 3 (
        НАПЕЧАТАТЬ "Привет из " + в_строку(номер);
    )
    ВЕРНУТЬ номер;
)

ОПРЕДЕЛИТЬ ПРОЦЕДУРУ вход_в_программу()(
    ЗАДАТЬ фон1 = В ФОНЕ ошибка( 1);
    ЗАДАТЬ фон2 = В ФОНЕ ошибка( 2);
    ЗАДАТЬ фон3 = "==";
    фон3 = "1 ==";
    НАПЕЧАТАТЬ "Я спать...";
    спать(1);
    НАПЕЧАТАТЬ "Я проснулся...";
    НАПЕЧАТАТЬ ЖДАТЬ фон1;
    НАПЕЧАТАТЬ ЖДАТЬ фон2;


    КОНТЕКСТ (
        НАПЕЧАТАТЬ ЖДАТЬ фон2;
    )


    ОБРАБОТЧИК ОшибкаПовторноеОжидание КАК ошибка (
        НАПЕЧАТАТЬ "ОшибкаПовторноеОжидание";
        НАПЕЧАТАТЬ в_строку(ошибка:__ошибка__);
        НАПЕЧАТАТЬ ошибка;
    )
        НАПЕЧАТАТЬ ошибка;
       ! НАПЕЧАТАТЬ ОшибкаПовторноеОжидание;

    НАПЕЧАТАТЬ 100 + ИСТИНА;

    ЗАДАТЬ таски = Очередь(10000);

    ЦИКЛ с ОТ 1 ДО 10 (
        таски:положить(В ФОНЕ ошибка( с));
    )

    ЦИКЛ с ОТ 1 ДО 10 (
        НАПЕЧАТАТЬ "КОНЕЦ" + в_строку(ЖДАТЬ таски:взять());
    )


    НАПЕЧАТАТЬ ;
)

ВЫПОЛНИТЬ (
   вход_в_программу();
)

