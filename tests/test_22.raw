ВКЛЮЧИТЬ стандартная_библиотека.*

ОПРЕДЕЛИТЬ ПРОЦЕДУРУ ошибка(номер)(
    ЦИКЛ ОТ 1 ДО 3 (
        НАПЕЧАТАТЬ "Привет из " + в_строку(номер);
    )
    ВЕРНУТЬ номер;
)

ОПРЕДЕЛИТЬ ПРОЦЕДУРУ вход_в_программу()(
    ЗАДАТЬ фон1 = В ФОНЕ ошибка( 1);
    ЗАДАТЬ фон2 = В ФОНЕ ошибка( 2);
    НАПЕЧАТАТЬ "Я спать...";
    спать(1);
    НАПЕЧАТАТЬ "Я проснулся...";
    НАПЕЧАТАТЬ ЖДАТЬ фон1;
    НАПЕЧАТАТЬ ЖДАТЬ фон2;


    КОНТЕКСТ (
        НАПЕЧАТАТЬ ЖДАТЬ фон2;
    )

    ОБРАБОТЧИК ОшибкаПовторноеОжидание КАК ошибка1 (
        НАПЕЧАТАТЬ "ОшибкаПовторноеОжидание";
        НАПЕЧАТАТЬ в_строку(ошибка1:__ошибка);
    )
)

ВЫПОЛНИТЬ (
   вход_в_программу();
)
