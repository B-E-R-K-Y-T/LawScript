ВКЛЮЧИТЬ стандартная_библиотека.тесты
ВКЛЮЧИТЬ стандартная_библиотека.рандом
ВКЛЮЧИТЬ стандартная_библиотека.структуры.*

ВКЛЮЧИТЬ bot.sender
ВКЛЮЧИТЬ config.*
ВКЛЮЧИТЬ handlers


! Мок
ОПРЕДЕЛИТЬ ПРОЦЕДУРУ запрос_в_интернет(базовый_адрес, идентификатор_чата, текст) (
    ВЕРНУТЬ таблица();
)

! Мок
ОПРЕДЕЛИТЬ ПРОЦЕДУРУ прочитать_файл(путь_до_файла) (
    ВЕРНУТЬ массив("ТОКЕН=123", "АДРЕС=321");
)

ОПРЕДЕЛИТЬ ПРОЦЕДУРУ запуск() (
    ЗАДАТЬ тестовый_сценарий = ТестовыйСценарий();
    тестовый_сценарий:простой_тест(отправить_сообщение("127.0.0.1", 1337, "тест") РАВНО таблица());

    ЗАДАТЬ ключи_файла = массив("ТОКЕН", "АДРЕС");
    ЗАДАТЬ значения_файла = массив("123", "321");
    тестовый_сценарий:простой_тест(парсер() РАВНО таблица(ключи_файла, значения_файла));

    ЗАДАТЬ настройки = Настройки();
    тестовый_сценарий:простой_тест((настройки:токен РАВНО "123") И (настройки:адрес РАВНО "321"));
)

ВЫПОЛНИТЬ (
    запуск();
)
