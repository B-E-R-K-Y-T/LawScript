ВКЛЮЧИТЬ стандартная_библиотека.время
ВКЛЮЧИТЬ стандартная_библиотека.математика


ОПРЕДЕЛИТЬ КЛАСС ГенераторСлучайныхЧисел (
    ОПРЕДЕЛИТЬ КОНСТРУКТОР (ссылка) (зерно=временная_метка()) (
        ссылка:зерно = зерно;
    )

    ОПРЕДЕЛИТЬ МЕТОД (ссылка) получить_число() (
        ! Генерация псевдослучайного числа с использованием линейного конгруэнтного метода
        ЗАДАТЬ множитель = 1664525;
        ЗАДАТЬ приращение = 1013904223;

        ссылка:зерно = остаток(множитель * ссылка:зерно + приращение, степень(2, 32));
        ВЕРНУТЬ ссылка:зерно / степень(2, 32);  ! Возвращаем число в диапазоне [0, 1)
    )

    ОПРЕДЕЛИТЬ МЕТОД (ссылка) получить_в_диапазоне(мин, макс) (
        ЕСЛИ мин БОЛЬШЕ макс ТО (
            ВЕРНУТЬ 0;
        )

        ЗАДАТЬ диапазон = макс - мин;
        ЗАДАТЬ случайное = ссылка:получить_число() * диапазон + мин;

        ВЕРНУТЬ случайное;
    )

    ОПРЕДЕЛИТЬ МЕТОД (ссылка) получить_целое_в_диапазоне(мин, макс) (
        ВЕРНУТЬ округлить(ссылка:получить_в_диапазоне(мин, макс));
    )

    ОПРЕДЕЛИТЬ МЕТОД (ссылка) бросить_монетку() (
        ВЕРНУТЬ ссылка:получить_число() БОЛЬШЕ 0.5;
    )
)
